"use strict";function asyncGeneratorStep(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=s.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.imageFileToImageCroppedFile=exports.image64toCanvasRef=exports.extractImageFileExtensionFromBase64=exports.downloadBase64File=exports.FileToBase64=exports.URLToFile=exports.URLToBase64=exports.base64StringtoFile=void 0;var base64StringtoFile=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fileName",n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[1]),a=o.length,i=new Uint8Array(a);a--;)i[a]=o.charCodeAt(a);return new File([i],t,{type:r})};exports.base64StringtoFile=base64StringtoFile;var URLToBase64=function(r){return new Promise(function(t,e){var n=new XMLHttpRequest;n.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)},n.open("GET",r),n.responseType="blob",n.send()})};exports.URLToBase64=URLToBase64;var URLToFile=function(a){return new Promise(function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,URLToBase64(a);case 2:r=e.sent,o=base64StringtoFile(r),t(o);case 5:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}())};exports.URLToFile=URLToFile;var FileToBase64=function(r){return new Promise(function(e,t){var n=new FileReader;n.addEventListener("load",function(){e(n.result)}),n.readAsDataURL(r)})};exports.FileToBase64=FileToBase64;var downloadBase64File=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)};exports.downloadBase64File=downloadBase64File;var extractImageFileExtensionFromBase64=function(e){return e.substring("data:image/".length,e.indexOf("base64"))};exports.extractImageFileExtensionFromBase64=extractImageFileExtensionFromBase64;var image64toCanvasRef=function(a,i,s){return new Promise(function(e,t){var n=a;n.width=s.width,n.height=s.height;var r=n.getContext("2d"),o=new Image;o.src=i,o.onload=function(){r.drawImage(o,s.x,s.y,s.width,s.height,0,0,s.width,s.height),e(n.toDataURL("image/jpeg",1))}})};exports.image64toCanvasRef=image64toCanvasRef;var imageFileToImageCroppedFile=function(s,u){return new Promise(function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("canvas")).width=u.width,r.height=u.height,e.next=5,FileToBase64(s);case 5:return o=e.sent,e.next=8,image64toCanvasRef(r,o,u);case 8:a=e.sent,i=base64StringtoFile(a,s.name),r.remove(),t(i);case 12:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}())};exports.imageFileToImageCroppedFile=imageFileToImageCroppedFile;